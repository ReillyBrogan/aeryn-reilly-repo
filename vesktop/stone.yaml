#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : vesktop
version     : 1.6.1
release     : 1
summary     : Vesktop
license     : Distributable
homepage    : https://vesktop.vencord.dev
upstreams   :
    - https://vencord.dev/download/vesktop/amd64/tar:
        hash: c78489c89caad16ba64c082c1c1095a45b66bc84bb437bda7f7d27c91c6d9907
description : |
    Vesktop
builddeps   :
    - binary(ar)
    - binary(bsdtar-static)
    - binary(ln)
rundeps     :
    - binary(xdg-open)
    - binary(python3)
    - soname(libXss.so.1(x86_64))
    - soname(libatomic.so.1(x86_64))
# Causes krisp noise suppression not to load
debug       : false
strip       : false
install     : |
    %install_file %(pkgdir)/vesktop.desktop %(installroot)/usr/share/applications/vesktop.desktop
    %install_file %(pkgdir)/vesktop.svg %(installroot)/usr/share/icons/hicolor/scalable/apps/vesktop.svg

    # Binary
    %install_dir %(installroot)/usr/lib/vesktop
    cp -Ra * %(installroot)/usr/lib/vesktop/
    %install_exe %(pkgdir)/vesktop.sh %(installroot)/usr/bin/vesktop
