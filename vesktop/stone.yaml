#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : vesktop
version     : 1.6.4
release     : 2
summary     : Vesktop
license     : Distributable
homepage    : https://vesktop.vencord.dev
upstreams   :
    - https://github.com/Vencord/Vesktop/releases/download/v1.6.4/vesktop-1.6.4.tar.gz:
        hash: 97d544a1af41f42a81967afa3d11a8f580d1b57bba81732ea45bbc7f29233546
description : |
    Vesktop
builddeps   :
    - binary(ar)
    - binary(bsdtar-static)
    - binary(ln)
rundeps     :
    - binary(xdg-open)
    - binary(python3)
    - soname(libXss.so.1(x86_64))
    - soname(libatomic.so.1(x86_64))
# Causes krisp noise suppression not to load
debug       : false
strip       : false
install     : |
    %install_file %(pkgdir)/vesktop.desktop %(installroot)/usr/share/applications/vesktop.desktop
    %install_file %(pkgdir)/vesktop.svg %(installroot)/usr/share/icons/hicolor/scalable/apps/vesktop.svg

    # Binary
    %install_dir %(installroot)/usr/lib/vesktop
    cp -Ra * %(installroot)/usr/lib/vesktop/
    %install_exe %(pkgdir)/vesktop.sh %(installroot)/usr/bin/vesktop
